(self.webpackChunk=self.webpackChunk||[]).push([[3816],{48665:(t,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>k});var e=a(87757),r=a.n(e),s=a(9669),o=a.n(s),i=a(50175),c=a.n(i);function d(t,n,a,e,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void a(t)}i.done?n(c):Promise.resolve(c).then(e,r)}function l(t){return function(){var n=this,a=arguments;return new Promise((function(e,r){var s=t.apply(n,a);function o(t){d(s,e,r,o,i,"next",t)}function i(t){d(s,e,r,o,i,"throw",t)}o(void 0)}))}}const v={middleware:["auth","verified","2fa_passed","admin"],metaInfo:function(){return{title:this.$t("Add-ons")}},mixins:[a(93503).Z],computed:{},data:function(){return{form:new(c()),data:{}}},created:function(){var t=this;return l(r().mark((function n(){var a,e;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("/api/admin/add-ons");case 2:a=n.sent,e=a.data,t.data=e;case 5:case"end":return n.stop()}}),n)})))()},methods:{disable:function(t){var n=this;return l(r().mark((function a(){var e,s;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.form.post("/api/admin/add-ons/".concat(t,"/disable"));case 2:e=a.sent,s=e.data,n.$store.dispatch("message/"+(s.success?"success":"error"),{text:s.message}),s.success&&(n.data.packages[t].enabled=!1);case 6:case"end":return a.stop()}}),a)})))()},enable:function(t){var n=this;return l(r().mark((function a(){var e,s;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.form.post("/api/admin/add-ons/".concat(t,"/enable"));case 2:e=a.sent,s=e.data,n.$store.dispatch("message/"+(s.success?"success":"error"),{text:s.message}),s.success&&(n.data.packages[t].enabled=!0);case 6:case"end":return a.stop()}}),a)})))()}}};var u=a(51900),p=a(43453),_=a.n(p),m=a(4330),f=a(43776),h=a(5255),b=a(17024),x=a(66530),g=a(57894),w=(0,u.Z)(v,(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{loading:!t.data.packages}},[a("v-card-title",[t._v("\n          "+t._s(t.$t("Add-ons"))+"\n        ")]),t._v(" "),a("v-card-text",t._l(t.data.packages,(function(n,e){return a("v-row",{key:e},[a("v-col",[a("v-card",{attrs:{outlined:""}},[a("v-card-title",{staticClass:"font-weight-thin"},[t._v("\n                  "+t._s(n.name)+"\n                  "),n.enabled?[t._v("\n                    v"+t._s(n.version)+"\n                  ")]:t._e()],2),t._v(" "),a("v-card-text",[t._v("\n                  "+t._s(n.description)+"\n                ")]),t._v(" "),a("v-card-actions",[n.installed&&n.min_app_version_installed?[t.data.releases["add-ons"][e]&&t.data.releases["add-ons"][e].version!==n.version?[n.hash?a("v-btn",{attrs:{text:"",color:"primary",to:{name:"admin.add-ons.install",params:{id:e}}}},[t._v("\n                        "+t._s(t.$t("Upgrade to v{0}",[t.data.releases["add-ons"][e].version]))+"\n                      ")]):t._e()]:[n.hash?a("v-btn",{attrs:{text:"",color:"primary",to:{name:"admin.add-ons.install",params:{id:e}}}},[t._v("\n                        "+t._s(t.$t("Re-install"))+"\n                      ")]):t._e()],t._v(" "),n.enabled?a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(n){return t.disable(e)}}},[t._v("\n                      "+t._s(t.$t("Disable"))+"\n                    ")]):a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(n){return t.enable(e)}}},[t._v("\n                      "+t._s(t.$t("Enable"))+"\n                    ")]),t._v(" "),a("v-btn",{attrs:{text:"",color:"primary",to:{name:"admin.add-ons.changelog",params:{id:e}}}},[t._v("\n                      "+t._s(t.$t("Changelog"))+"\n                    ")])]:n.installed&&!n.min_app_version_installed?[a("span",{staticClass:"pl-2 error--text"},[t._v(t._s(t.$t("App v{0} is required to enable this add-on",[n.min_app_version])))])]:[n.purchase_url?a("v-btn",{attrs:{text:"",color:"primary",href:n.purchase_url,target:"_blank"}},[t._v("\n                      "+t._s(t.$t("Purchase"))+"\n                    ")]):t._e(),t._v(" "),n.hash?a("v-btn",{attrs:{text:"",color:"primary",to:{name:"admin.add-ons.install",params:{id:e}}}},[t._v("\n                      "+t._s(t.$t("Install"))+"\n                    ")]):t._e()]],2)],1)],1)],1)})),1)],1)],1)],1)],1)}),[],!1,null,null,null);const k=w.exports;_()(w,{VBtn:m.Z,VCard:f.Z,VCardActions:h.h7,VCardText:h.ZB,VCardTitle:h.EB,VCol:b.Z,VContainer:x.Z,VRow:g.Z})}}]);
//# sourceMappingURL=admin-add-ons.js.map